(()=>{var cn=Object.defineProperty,ln=Object.defineProperties;var fn=Object.getOwnPropertyDescriptors;var Te=Object.getOwnPropertySymbols;var un=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable;var We=(t,e,n)=>e in t?cn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||(e={}))un.call(e,n)&&We(t,n,e[n]);if(Te)for(var n of Te(e))dn.call(e,n)&&We(t,n,e[n]);return t},Q=(t,e)=>ln(t,fn(e));var $=(t,e,n)=>new Promise((r,a)=>{var o=i=>{try{l(n.next(i))}catch(c){a(c)}},s=i=>{try{l(n.throw(i))}catch(c){a(c)}},l=i=>i.done?r(i.value):Promise.resolve(i.value).then(o,s);l((n=n.apply(t,e)).next())});var y={image:new Map,background:new Map,resource:new Map,defaultStyle:new Map,baseStyle:new Map,computedStyle:new WeakMap,font:new Set,session:{styleMap:new Map,styleCache:new WeakMap,nodeMap:new Map}};function Yt(t="soft"){switch(t){case"auto":{y.session.styleMap=new Map,y.session.nodeMap=new Map;return}case"soft":{y.session.styleMap=new Map,y.session.nodeMap=new Map,y.session.styleCache=new WeakMap;return}case"full":return;case"disabled":{y.session.styleMap=new Map,y.session.nodeMap=new Map,y.session.styleCache=new WeakMap,y.computedStyle=new WeakMap,y.baseStyle=new Map,y.defaultStyle=new Map,y.image=new Map,y.background=new Map,y.resource=new Map,y.font=new Set;return}default:{y.session.styleMap=new Map,y.session.nodeMap=new Map,y.session.styleCache=new WeakMap;return}}}function Lt(t){let e=t.match(/url\((['"]?)(.*?)(\1)\)/);if(!e)return null;let n=e[2].trim();return n.startsWith("#")?null:n}function de(t){if(!t||t==="none")return"";let e=t.replace(/translate[XY]?\([^)]*\)/g,"");return e=e.replace(/matrix\(([^)]+)\)/g,(n,r)=>{let a=r.split(",").map(o=>o.trim());return a.length!==6?`matrix(${r})`:(a[4]="0",a[5]="0",`matrix(${a.join(", ")})`)}),e=e.replace(/matrix3d\(([^)]+)\)/g,(n,r)=>{let a=r.split(",").map(o=>o.trim());return a.length!==16?`matrix3d(${r})`:(a[12]="0",a[13]="0",`matrix3d(${a.join(", ")})`)}),e.trim().replace(/\s{2,}/g," ")}function At(t){if(/%[0-9A-Fa-f]{2}/.test(t))return t;try{return encodeURI(t)}catch(e){return t}}function mn(t="[snapDOM]",{ttlMs:e=5*6e4,maxEntries:n=12}={}){let r=new Map,a=0;function o(s,l,i){if(a>=n)return;let c=Date.now();(r.get(l)||0)>c||(r.set(l,c+e),a++,s==="warn"&&console&&console.warn?console.warn(`${t} ${i}`):console&&console.error&&console.error(`${t} ${i}`))}return{warnOnce(s,l){o("warn",s,l)},errorOnce(s,l){o("error",s,l)},reset(){r.clear(),a=0}}}var _e=mn("[snapDOM]",{ttlMs:3*6e4,maxEntries:10}),me=new Map,Gt=new Map;function hn(t){return/^data:|^blob:|^about:blank$/i.test(t)}function pn(t,e){try{let n=typeof location!="undefined"&&location.href?location.href:"http://localhost/",r=e.includes("{url}")?e.split("{url}")[0]:e,a=new URL(r||".",n),o=new URL(t,n);if(o.origin===a.origin)return!0;let s=o.searchParams;if(s&&(s.has("url")||s.has("target")))return!0}catch(n){}return!1}function gn(t,e){if(!e||hn(t)||pn(t,e))return!1;try{let n=typeof location!="undefined"&&location.href?location.href:"http://localhost/",r=new URL(t,n);return typeof location!="undefined"?r.origin!==location.origin:!0}catch(n){return!!e}}function yn(t,e){if(!e)return t;if(e.includes("{url}"))return e.replace("{urlRaw}",At(t)).replace("{url}",encodeURIComponent(t));if(/[?&]url=?$/.test(e))return`${e}${encodeURIComponent(t)}`;if(e.endsWith("?"))return`${e}url=${encodeURIComponent(t)}`;if(e.endsWith("/"))return`${e}${At(t)}`;let n=e.includes("?")?"&":"?";return`${e}${n}url=${encodeURIComponent(t)}`}function Pe(t){return new Promise((e,n)=>{let r=new FileReader;r.onload=()=>e(String(r.result||"")),r.onerror=()=>n(new Error("read_failed")),r.readAsDataURL(t)})}function wn(t,e){var n,r;return[e.as||"blob",(n=e.timeout)!=null?n:3e3,e.useProxy||"",(r=e.errorTTL)!=null?r:8e3,t].join("|")}function Z(n){return $(this,arguments,function*(t,e={}){var S,M,I;let r=(S=e.as)!=null?S:"blob",a=(M=e.timeout)!=null?M:3e3,o=e.useProxy||"",s=(I=e.errorTTL)!=null?I:8e3,l=e.headers||{},i=!!e.silent;if(/^data:/i.test(t))try{if(r==="text")return{ok:!0,data:String(t),status:200,url:t,fromCache:!1};if(r==="dataURL")return{ok:!0,data:String(t),status:200,url:t,fromCache:!1,mime:String(t).slice(5).split(";")[0]||""};let[,E="",F=""]=String(t).match(/^data:([^,]*),(.*)$/)||[],W=/;base64/i.test(E)?atob(F):decodeURIComponent(F),N=new Uint8Array([...W].map(V=>V.charCodeAt(0))),P=new Blob([N],{type:(E||"").split(";")[0]||""});return{ok:!0,data:P,status:200,url:t,fromCache:!1,mime:P.type||""}}catch(E){return{ok:!1,data:null,status:0,url:t,fromCache:!1,reason:"special_url_error"}}if(/^blob:/i.test(t))try{let E=yield fetch(t);if(!E.ok)return{ok:!1,data:null,status:E.status,url:t,fromCache:!1,reason:"http_error"};let F=yield E.blob(),k=F.type||E.headers.get("content-type")||"";return r==="dataURL"?{ok:!0,data:yield Pe(F),status:E.status,url:t,fromCache:!1,mime:k}:r==="text"?{ok:!0,data:yield F.text(),status:E.status,url:t,fromCache:!1,mime:k}:{ok:!0,data:F,status:E.status,url:t,fromCache:!1,mime:k}}catch(E){return{ok:!1,data:null,status:0,url:t,fromCache:!1,reason:"network"}}if(/^about:blank$/i.test(t))return r==="dataURL"?{ok:!0,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==",status:200,url:t,fromCache:!1,mime:"image/png"}:{ok:!0,data:r==="text"?"":new Blob([]),status:200,url:t,fromCache:!1};let c=wn(t,{as:r,timeout:a,useProxy:o,errorTTL:s}),f=Gt.get(c);if(f&&f.until>Date.now())return Q(J({},f.result),{fromCache:!0});f&&Gt.delete(c);let d=me.get(c);if(d)return d;let m=gn(t,o)?yn(t,o):t,g=e.credentials;if(!g)try{let E=typeof location!="undefined"&&location.href?location.href:"http://localhost/",F=new URL(t,E);g=typeof location!="undefined"&&F.origin===location.origin?"include":"omit"}catch(E){g="omit"}let b=new AbortController,u=setTimeout(()=>b.abort("timeout"),a),h=$(null,null,function*(){var E,F;try{let k=yield fetch(m,{signal:b.signal,credentials:g,headers:l});if(!k.ok){let P={ok:!1,data:null,status:k.status,url:m,fromCache:!1,reason:"http_error"};if(s>0&&Gt.set(c,{until:Date.now()+s,result:P}),!i){let V=`${k.status} ${k.statusText||""}`.trim();_e.warnOnce(`http:${k.status}:${r}:${new URL(t,(E=location==null?void 0:location.href)!=null?E:"http://localhost/").origin}`,`HTTP error ${V} while fetching ${r} ${t}`)}return e.onError&&e.onError(P),P}if(r==="text")return{ok:!0,data:yield k.text(),status:k.status,url:m,fromCache:!1};let W=yield k.blob(),N=W.type||k.headers.get("content-type")||"";return r==="dataURL"?{ok:!0,data:yield Pe(W),status:k.status,url:m,fromCache:!1,mime:N}:{ok:!0,data:W,status:k.status,url:m,fromCache:!1,mime:N}}catch(k){let W=k&&typeof k=="object"&&"name"in k&&k.name==="AbortError"?String(k.message||"").includes("timeout")?"timeout":"abort":"network",N={ok:!1,data:null,status:0,url:m,fromCache:!1,reason:W};if(!/^blob:/i.test(t)&&s>0&&Gt.set(c,{until:Date.now()+s,result:N}),!i){let P=`${W}:${r}:${new URL(t,(F=location==null?void 0:location.href)!=null?F:"http://localhost/").origin}`,V=W==="timeout"?`Timeout after ${a}ms. Consider increasing timeout or using a proxy for ${t}`:W==="abort"?`Request aborted while fetching ${r} ${t}`:`Network/CORS issue while fetching ${r} ${t}. A proxy may be required`;_e.errorOnce(P,V)}return e.onError&&e.onError(N),N}finally{clearTimeout(u),me.delete(c)}});return me.set(c,h),h})}function Nt(t,e){if(!e||!t.width||!t.height)return t;let n=document.createElement("canvas");n.width=t.width,n.height=t.height;let r=n.getContext("2d");return r.fillStyle=e,r.fillRect(0,0,n.width,n.height),r.drawImage(t,0,0),n}function Rt(n){return $(this,arguments,function*(t,e={}){if(/^((repeating-)?(linear|radial|conic)-gradient)\(/i.test(t)||t.trim()==="none")return t;let a=Lt(t);if(!a)return t;let o=At(a);if(y.background.has(o)){let s=y.background.get(o);return s?`url("${s}")`:"none"}try{let s=yield Z(o,{as:"dataURL",useProxy:e.useProxy});return s.ok?(y.background.set(o,s.data),`url("${s.data}")`):(y.background.set(o,null),"none")}catch(s){return y.background.set(o,null),"none"}})}var Kt=new Set(["meta","script","noscript","title","link","template"]),Ot=new Set(["meta","link","style","title","noscript","script","template","g","defs","use","marker","mask","clipPath","pattern","path","polygon","polyline","line","circle","ellipse","rect","filter","lineargradient","radialgradient","stop"]),bn=["div","span","p","a","img","ul","li","button","input","select","textarea","label","section","article","header","footer","nav","main","aside","h1","h2","h3","h4","h5","h6","table","thead","tbody","tr","td","th"];function he(){for(let t of bn){let e=String(t).toLowerCase();Kt.has(e)||Ot.has(e)||pe(e)}}function pe(t){if(t=String(t).toLowerCase(),Ot.has(t)){let o={};return y.defaultStyle.set(t,o),o}if(y.defaultStyle.has(t))return y.defaultStyle.get(t);let e=document.getElementById("snapdom-sandbox");e||(e=document.createElement("div"),e.id="snapdom-sandbox",e.setAttribute("data-snapdom-sandbox","true"),e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",document.body.appendChild(e));let n=document.createElement(t);n.style.all="initial",e.appendChild(n);let r=getComputedStyle(n),a={};for(let o of r){if(Ue(o))continue;let s=r.getPropertyValue(o);a[o]=s}return e.removeChild(n),y.defaultStyle.set(t,a),a}var xn=/(?:^|-)(animation|transition)(?:-|$)/i,Sn=/^(--|view-timeline|scroll-timeline|animation-trigger|offset-|position-try|app-region|interactivity|overlay|view-transition|-webkit-locale|-webkit-user-(?:drag|modify)|-webkit-tap-highlight-color|-webkit-text-security)$/i,Cn=new Set(["cursor","pointer-events","touch-action","user-select","print-color-adjust","speak","reading-flow","reading-order","anchor-name","anchor-scope","container-name","container-type","timeline-scope"]);function Ue(t){let e=String(t).toLowerCase();return!!(Cn.has(e)||Sn.test(e)||xn.test(e))}function Dt(t,e){if(e=String(e||"").toLowerCase(),Ot.has(e))return"";let n=[],r=pe(e);for(let[a,o]of Object.entries(t)){if(Ue(a))continue;let s=r[a];o&&o!==s&&n.push(`${a}:${o}`)}return n.sort(),n.join(";")}function ge(t){let e=new Set;return t.nodeType!==Node.ELEMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?[]:(t.tagName&&e.add(t.tagName.toLowerCase()),typeof t.querySelectorAll=="function"&&t.querySelectorAll("*").forEach(n=>e.add(n.tagName.toLowerCase())),Array.from(e))}function ye(t){let e=new Map;for(let r of t){let a=y.defaultStyle.get(r);if(!a)continue;let o=Object.entries(a).map(([s,l])=>`${s}:${l};`).sort().join("");o&&(e.has(o)||e.set(o,[]),e.get(o).push(r))}let n="";for(let[r,a]of e.entries())n+=`${a.join(",")} { ${r} }
`;return n}function we(t){let e=Array.from(new Set(t.values())).filter(Boolean).sort(),n=new Map,r=1;for(let a of e)n.set(a,`c${r++}`);return n}function It(t,e=null){if(!(t instanceof Element))return window.getComputedStyle(t,e);let n=y.computedStyle.get(t);if(n||(n=new Map,y.computedStyle.set(t,n)),!n.has(e)){let r=window.getComputedStyle(t,e);n.set(e,r)}return n.get(e)}function Jt(t){let e={};for(let n of t)e[n]=t.getPropertyValue(n);return e}function Tt(t){let e=[],n=0,r=0;for(let a=0;a<t.length;a++){let o=t[a];o==="("&&n++,o===")"&&n--,o===","&&n===0&&(e.push(t.slice(r,a).trim()),r=a+1)}return e.push(t.slice(r).trim()),e}function xt(t,{fast:e=!1}={}){if(e)return t();"requestIdleCallback"in window?requestIdleCallback(t,{timeout:50}):setTimeout(t,1)}function tt(){let t=typeof navigator!="undefined"&&navigator.userAgent?navigator.userAgent:"",e=/^((?!chrome|android).)*safari/i.test(t),n=/(MicroMessenger|wxwork|WeCom|WindowsWechat|MacWechat)/i.test(t);return e||n}var Be=new WeakMap,be=new Map,xe=0;function Ht(){xe++}var Oe=!1;function kn(t=document.documentElement){var e,n;if(!Oe){Oe=!0;try{new MutationObserver(()=>Ht()).observe(t,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch(r){}try{new MutationObserver(()=>Ht()).observe(document.head,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch(r){}try{let r=document.fonts;r&&((e=r.addEventListener)==null||e.call(r,"loadingdone",Ht),(n=r.ready)==null||n.then(()=>Ht()).catch(()=>{}))}catch(r){}}}function Mn(t,e={}){let n={},r=t.getPropertyValue("visibility");for(let a=0;a<t.length;a++){let o=t[a],s=t.getPropertyValue(o);(o==="background-image"||o==="content")&&s.includes("url(")&&!s.includes("data:")&&(s="none"),n[o]=s}if(e.embedFonts){let a=["font-feature-settings","font-variation-settings","font-kerning","font-variant","font-variant-ligatures","font-optical-sizing"];for(let o of a)if(!n[o])try{let s=t.getPropertyValue(o);s&&(n[o]=s)}catch(s){}}return r==="hidden"&&(n.opacity="0"),n}var De=new WeakMap;function An(t){let e=De.get(t);return e||(e=Object.entries(t).sort((r,a)=>r[0]<a[0]?-1:r[0]>a[0]?1:0).map(([r,a])=>`${r}:${a}`).join(";"),De.set(t,e),e)}function $n(t,e=null,n={}){let r=Be.get(t);if(r&&r.epoch===xe)return r.snapshot;let a=e||getComputedStyle(t),o=Mn(a,n);return Rn(t,a,o),Be.set(t,{epoch:xe,snapshot:o}),o}function En(t,e){return t&&t.session&&t.persist?t:t&&(t.styleMap||t.styleCache||t.nodeMap)?{session:t,persist:{snapshotKeyCache:be,defaultStyle:y.defaultStyle,baseStyle:y.baseStyle,image:y.image,resource:y.resource,background:y.background,font:y.font},options:e||{}}:{session:y.session,persist:{snapshotKeyCache:be,defaultStyle:y.defaultStyle,baseStyle:y.baseStyle,image:y.image,resource:y.resource,background:y.background,font:y.font},options:t||e||{}}}function Wt(t,e,n,r){return $(this,null,function*(){var m,g,b;if(t.tagName==="STYLE")return;let a=En(n,r),o=a.options&&a.options.cache||"auto";if(o!=="disabled"&&kn(document.documentElement),o==="disabled"&&!a.session.__bumpedForDisabled&&(Ht(),be.clear(),a.session.__bumpedForDisabled=!0),Ot.has((m=t.tagName)==null?void 0:m.toLowerCase())){let u=(g=t.getAttribute)==null?void 0:g.call(t,"style");u&&e.setAttribute("style",u)}let{session:s,persist:l}=a;s.styleCache.has(t)||s.styleCache.set(t,getComputedStyle(t));let i=s.styleCache.get(t),c=$n(t,i,a.options),f=An(c),d=l.snapshotKeyCache.get(f);if(!d){let u=((b=t.tagName)==null?void 0:b.toLowerCase())||"div";d=Dt(c,u),l.snapshotKeyCache.set(f,d)}s.styleMap.set(e,d)})}function Fn(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof HTMLIFrameElement||t instanceof SVGElement||t instanceof HTMLObjectElement||t instanceof HTMLEmbedElement}function vn(t){return t.backgroundImage&&t.backgroundImage!=="none"||t.backgroundColor&&t.backgroundColor!=="rgba(0, 0, 0, 0)"&&t.backgroundColor!=="transparent"||(parseFloat(t.borderTopWidth)||0)>0||(parseFloat(t.borderBottomWidth)||0)>0||(parseFloat(t.paddingTop)||0)>0||(parseFloat(t.paddingBottom)||0)>0?!0:(t.overflowBlock||t.overflowY||"visible")!=="visible"}function Ln(t){let e=t.parentElement;if(!e)return!1;let n=getComputedStyle(e).display||"";return n.includes("flex")||n.includes("grid")}function Nn(t,e){if(t.textContent&&/\S/.test(t.textContent))return!0;let n=t.firstElementChild,r=t.lastElementChild;if(n&&n.tagName==="BR"||r&&r.tagName==="BR")return!0;let a=t.scrollHeight;if(a===0)return!1;let o=parseFloat(e.paddingTop)||0,s=parseFloat(e.paddingBottom)||0;return a>o+s}function Rn(t,e,n){if(t instanceof HTMLElement&&t.style&&t.style.height)return;let r=e.display||"";if(r.includes("flex")||r.includes("grid")||Fn(t))return;let a=e.position;a==="absolute"||a==="fixed"||a==="sticky"||e.transform==="none"&&(vn(e)||Ln(t)||Nn(t,e)&&(delete n.height,delete n["block-size"]))}function Se(t,e,n){return Promise.all(t.map(r=>new Promise(a=>{function o(){xt(s=>{(s&&typeof s.timeRemaining=="function"?s.timeRemaining()>0:!0)?e(r,a):o()},{fast:n})}o()})))}function In(t){return t=t.trim(),!t||/\:not\(\s*\[data-sd-slotted\]\s*\)\s*$/.test(t)?t:`${t}:not([data-sd-slotted])`}function Tn(t,e,n=!0){return t.split(",").map(r=>r.trim()).filter(Boolean).map(r=>{if(r.startsWith(":where(")||r.startsWith("@"))return r;let a=n?In(r):r;return`:where(${e} ${a})`}).join(", ")}function Wn(t,e){return t?(t=t.replace(/:host\(([^)]+)\)/g,(n,r)=>`:where(${e}:is(${r.trim()}))`),t=t.replace(/:host\b/g,`:where(${e})`),t=t.replace(/:host-context\(([^)]+)\)/g,(n,r)=>`:where(:where(${r.trim()}) ${e})`),t=t.replace(/::slotted\(([^)]+)\)/g,(n,r)=>`:where(${e} ${r.trim()})`),t=t.replace(/(^|})(\s*)([^@}{]+){/g,(n,r,a,o)=>{let s=Tn(o,e,!0);return`${r}${a}${s}{`}),t):""}function _n(t){return t.shadowScopeSeq=(t.shadowScopeSeq||0)+1,`s${t.shadowScopeSeq}`}function Pn(t){let e="";try{t.querySelectorAll("style").forEach(r=>{e+=(r.textContent||"")+`
`});let n=t.adoptedStyleSheets||[];for(let r of n)try{if(r&&r.cssRules)for(let a of r.cssRules)e+=a.cssText+`
`}catch(a){}}catch(n){}return e}function Un(t,e,n){if(!e)return;let r=document.createElement("style");r.setAttribute("data-sd",n),r.textContent=e,t.insertBefore(r,t.firstChild||null)}function Bn(t,e){try{let n=t.currentSrc||t.src||"";if(!n)return;e.setAttribute("src",n),e.removeAttribute("srcset"),e.removeAttribute("sizes"),e.loading="eager",e.decoding="sync"}catch(n){}}function On(t){let e=new Set;if(!t)return e;let n=/var\(\s*(--[A-Za-z0-9_-]+)\b/g,r;for(;r=n.exec(t);)e.add(r[1]);return e}function Dn(t,e){try{let r=getComputedStyle(t).getPropertyValue(e).trim();if(r)return r}catch(n){}try{let r=getComputedStyle(document.documentElement).getPropertyValue(e).trim();if(r)return r}catch(n){}return""}function Hn(t,e,n){let r=[];for(let a of e){let o=Dn(t,a);o&&r.push(`${a}: ${o};`)}return r.length?`${n}{${r.join("")}}
`:""}function qn(t){t&&(t.nodeType===Node.ELEMENT_NODE&&t.setAttribute("data-sd-slotted",""),t.querySelectorAll&&t.querySelectorAll("*").forEach(e=>e.setAttribute("data-sd-slotted","")))}function jn(t,e=3){return $(this,null,function*(){let n=()=>{var o;try{return t.contentDocument||((o=t.contentWindow)==null?void 0:o.document)||null}catch(s){return null}},r=n(),a=0;for(;a<e&&(!r||!r.body&&!r.documentElement);)yield new Promise(o=>setTimeout(o,0)),r=n(),a++;return r&&(r.body||r.documentElement)?r:null})}function Vn(t){let e=t.getBoundingClientRect(),n=0,r=0,a=0,o=0;try{let i=getComputedStyle(t);n=parseFloat(i.borderLeftWidth)||0,r=parseFloat(i.borderRightWidth)||0,a=parseFloat(i.borderTopWidth)||0,o=parseFloat(i.borderBottomWidth)||0}catch(i){}let s=Math.max(0,Math.round(e.width-(n+r))),l=Math.max(0,Math.round(e.height-(a+o)));return{contentWidth:s,contentHeight:l,rect:e}}function zn(t,e,n){let r=t.createElement("style");return r.setAttribute("data-sd-iframe-pin",""),r.textContent=`html, body {margin: 0 !important;padding: 0 !important;width: ${e}px !important;height: ${n}px !important;min-width: ${e}px !important;min-height: ${n}px !important;box-sizing: border-box !important;overflow: hidden !important;background-clip: border-box !important;}`,(t.head||t.documentElement).appendChild(r),()=>{try{r.remove()}catch(a){}}}function Xn(t,e,n){return $(this,null,function*(){let r=yield jn(t,3);if(!r)throw new Error("iframe document not accessible/ready");let{contentWidth:a,contentHeight:o,rect:s}=Vn(t),l=n==null?void 0:n.snap;if(!l||typeof l.toPng!="function")throw new Error("snapdom.toPng not available in iframe or window");let i=Q(J({},n),{scale:1}),c=zn(r,a,o),f;try{f=yield l.toPng(r.documentElement,i)}finally{c()}f.style.display="block",f.style.width=`${a}px`,f.style.height=`${o}px`;let d=document.createElement("div");return e.nodeMap.set(d,t),Wt(t,d,e,n),d.style.overflow="hidden",d.style.display="block",d.style.width||(d.style.width=`${Math.round(s.width)}px`),d.style.height||(d.style.height=`${Math.round(s.height)}px`),d.appendChild(f),d})}function qt(t,e,n){return $(this,null,function*(){var c,f,d,m,g,b;if(!t)throw new Error("Invalid node");let r=new Set,a=null,o=null;if(t.nodeType===Node.ELEMENT_NODE){let u=(t.localName||t.tagName||"").toLowerCase();if(t.id==="snapdom-sandbox"||t.hasAttribute("data-snapdom-sandbox")||Kt.has(u))return null}if(t.nodeType===Node.TEXT_NODE||t.nodeType!==Node.ELEMENT_NODE)return t.cloneNode(!0);if(t.getAttribute("data-capture")==="exclude"){if(n.excludeMode==="hide"){let u=document.createElement("div"),h=t.getBoundingClientRect();return u.style.cssText=`display:inline-block;width:${h.width}px;height:${h.height}px;visibility:hidden;`,u}else if(n.excludeMode==="remove")return null}if(n.exclude&&Array.isArray(n.exclude))for(let u of n.exclude)try{if((c=t.matches)!=null&&c.call(t,u)){if(n.excludeMode==="hide"){let h=document.createElement("div"),S=t.getBoundingClientRect();return h.style.cssText=`display:inline-block;width:${S.width}px;height:${S.height}px;visibility:hidden;`,h}else if(n.excludeMode==="remove")return null}}catch(h){console.warn(`Invalid selector in exclude option: ${u}`,h)}if(typeof n.filter=="function")try{if(!n.filter(t)){if(n.filterMode==="hide"){let u=document.createElement("div"),h=t.getBoundingClientRect();return u.style.cssText=`display:inline-block;width:${h.width}px;height:${h.height}px;visibility:hidden;`,u}else if(n.filterMode==="remove")return null}}catch(u){console.warn("Error in filter function:",u)}if(t.tagName==="IFRAME"){let u=!1;try{u=!!(t.contentDocument||(f=t.contentWindow)!=null&&f.document)}catch(h){u=!1}if(u)try{return yield Xn(t,e,n)}catch(h){console.warn("[SnapDOM] iframe rasterization failed, fallback:",h)}if(n.placeholders){let h=document.createElement("div");return h.style.cssText=`width:${t.offsetWidth}px;height:${t.offsetHeight}px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;`,Wt(t,h,e,n),h}else{let h=t.getBoundingClientRect(),S=document.createElement("div");return S.style.cssText=`display:inline-block;width:${h.width}px;height:${h.height}px;visibility:hidden;`,Wt(t,S,e,n),S}}if(t.getAttribute("data-capture")==="placeholder"){let u=t.cloneNode(!1);e.nodeMap.set(u,t),Wt(t,u,e,n);let h=document.createElement("div");return h.textContent=t.getAttribute("data-placeholder-text")||"",h.style.cssText="color:#666;font-size:12px;text-align:center;line-height:1.4;padding:0.5em;box-sizing:border-box;",u.appendChild(h),u}if(t.tagName==="CANVAS"){let u=t.toDataURL(),h=document.createElement("img");return h.src=u,h.width=t.width,h.height=t.height,e.nodeMap.set(h,t),Wt(t,h,e,n),h}let s;try{if(s=t.cloneNode(!1),e.nodeMap.set(s,t),t.tagName==="IMG"){Bn(t,s);try{let u=t.getBoundingClientRect(),h=Math.round(u.width||0),S=Math.round(u.height||0);if(!h||!S){let M=window.getComputedStyle(t),I=parseFloat(M.width)||0,E=parseFloat(M.height)||0,F=parseInt(t.getAttribute("width")||"",10)||0,k=parseInt(t.getAttribute("height")||"",10)||0,W=t.width||t.naturalWidth||0,N=t.height||t.naturalHeight||0;h=Math.round(h||I||F||W||0),S=Math.round(S||E||k||N||0)}h&&(s.dataset.snapdomWidth=String(h)),S&&(s.dataset.snapdomHeight=String(S))}catch(u){}}}catch(u){throw console.error("[Snapdom] Failed to clone node:",t,u),u}if(t instanceof HTMLTextAreaElement){let u=t.getBoundingClientRect();s.style.width=`${u.width}px`,s.style.height=`${u.height}px`}if(t instanceof HTMLInputElement&&(s.value=t.value,s.setAttribute("value",t.value),t.checked!==void 0&&(s.checked=t.checked,t.checked&&s.setAttribute("checked",""),t.indeterminate&&(s.indeterminate=t.indeterminate))),t instanceof HTMLSelectElement&&(a=t.value),t instanceof HTMLTextAreaElement&&(o=t.value),Wt(t,s,e,n),t.shadowRoot){let k=function(N,P){if(N.nodeType===Node.ELEMENT_NODE&&N.tagName==="STYLE")return P(null);qt(N,e,n).then(V=>{P(V||null)}).catch(V=>{P(null)})};try{let N=t.shadowRoot.querySelectorAll("slot");for(let P of N){let V=[];try{V=((d=P.assignedNodes)==null?void 0:d.call(P,{flatten:!0}))||((m=P.assignedNodes)==null?void 0:m.call(P))||[]}catch(ot){V=((g=P.assignedNodes)==null?void 0:g.call(P))||[]}for(let ot of V)r.add(ot)}}catch(N){}let u=_n(e),h=`[data-sd="${u}"]`;try{s.setAttribute("data-sd",u)}catch(N){}let S=Pn(t.shadowRoot),M=Wn(S,h),I=On(S),E=Hn(t,I,h);Un(s,E+M,u);let F=document.createDocumentFragment(),W=yield Se(Array.from(t.shadowRoot.childNodes),k,n.fast);F.append(...W.filter(N=>!!N)),s.appendChild(F)}if(t.tagName==="SLOT"){let M=function(E,F){qt(E,e,n).then(k=>{k&&qn(k),F(k||null)}).catch(k=>{F(null)})},u=((b=t.assignedNodes)==null?void 0:b.call(t,{flatten:!0}))||[],h=u.length>0?u:Array.from(t.childNodes),S=document.createDocumentFragment(),I=yield Se(Array.from(h),M,n.fast);return S.append(...I.filter(E=>!!E)),S}function l(u,h){if(r.has(u))return h(null);qt(u,e,n).then(S=>{h(S||null)}).catch(S=>{h(null)})}let i=yield Se(Array.from(t.childNodes),l,n.fast);if(s.append(...i.filter(u=>!!u)),a!==null&&s instanceof HTMLSelectElement){s.value=a;for(let u of s.options)u.value===a?u.setAttribute("selected",""):u.removeAttribute("selected")}return o!==null&&s instanceof HTMLTextAreaElement&&(s.textContent=o),s})}var Yn=[/font\s*awesome/i,/material\s*icons/i,/ionicons/i,/glyphicons/i,/feather/i,/bootstrap\s*icons/i,/remix\s*icons/i,/heroicons/i,/layui/i,/lucide/i],Ce=[];function He(t){let e=Array.isArray(t)?t:[t];for(let n of e)n instanceof RegExp?Ce.push(n):typeof n=="string"?Ce.push(new RegExp(n,"i")):console.warn("[snapdom] Ignored invalid iconFont value:",n)}function mt(t){let e=typeof t=="string"?t:"",n=[...Yn,...Ce];for(let r of n)if(r instanceof RegExp&&r.test(e))return!0;return!!(/icon/i.test(e)||/glyph/i.test(e)||/symbols/i.test(e)||/feather/i.test(e)||/fontawesome/i.test(e))}function qe(t,e,n,r=32,a="#000"){return $(this,null,function*(){e=e.replace(/^['"]+|['"]+$/g,"");let o=window.devicePixelRatio||1;yield document.fonts.ready;let s=document.createElement("span");s.textContent=t,s.style.position="absolute",s.style.visibility="hidden",s.style.fontFamily=`"${e}"`,s.style.fontWeight=n||"normal",s.style.fontSize=`${r}px`,s.style.lineHeight="1",s.style.whiteSpace="nowrap",s.style.padding="0",s.style.margin="0",document.body.appendChild(s);let l=s.getBoundingClientRect(),i=Math.ceil(l.width),c=Math.ceil(l.height);document.body.removeChild(s);let f=document.createElement("canvas");f.width=i*o,f.height=c*o;let d=f.getContext("2d");return d.scale(o,o),d.font=n?`${n} ${r}px "${e}"`:`${r}px "${e}"`,d.textAlign="left",d.textBaseline="top",d.fillStyle=a,d.fillText(t,0,0),{dataUrl:f.toDataURL(),width:i,height:c}})}var Gn=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded"]);function Qt(t){if(!t)return"";for(let e of t.split(",")){let n=e.trim().replace(/^['"]+|['"]+$/g,"");if(n&&!Gn.has(n.toLowerCase()))return n}return""}function Zt(t){let e=String(t!=null?t:"400").trim().toLowerCase();if(e==="normal")return 400;if(e==="bold")return 700;let n=parseInt(e,10);return Number.isFinite(n)?Math.min(900,Math.max(100,n)):400}function ke(t){let e=String(t!=null?t:"normal").trim().toLowerCase();return e.startsWith("italic")?"italic":e.startsWith("oblique")?"oblique":"normal"}function Kn(t){let e=String(t!=null?t:"100%").match(/(\d+(?:\.\d+)?)\s*%/);return e?Math.max(50,Math.min(200,parseFloat(e[1]))):100}function Jn(t){let e=String(t||"400").trim(),n=e.match(/^(\d{2,3})\s+(\d{2,3})$/);if(n){let a=Zt(n[1]),o=Zt(n[2]);return{min:Math.min(a,o),max:Math.max(a,o)}}let r=Zt(e);return{min:r,max:r}}function Qn(t){let e=String(t||"normal").trim().toLowerCase();return e==="italic"?{kind:"italic"}:e.startsWith("oblique")?{kind:"oblique"}:{kind:"normal"}}function Zn(t){let e=String(t||"100%").trim(),n=e.match(/(\d+(?:\.\d+)?)\s*%\s+(\d+(?:\.\d+)?)\s*%/);if(n){let o=parseFloat(n[1]),s=parseFloat(n[2]);return{min:Math.min(o,s),max:Math.max(o,s)}}let r=e.match(/(\d+(?:\.\d+)?)\s*%/),a=r?parseFloat(r[1]):100;return{min:a,max:a}}function tr(t,e){if(!t)return!1;try{let n=new URL(t,location.href);if(n.origin===location.origin)return!0;let a=n.host.toLowerCase();if(["fonts.googleapis.com","fonts.gstatic.com","use.typekit.net","p.typekit.net","kit.fontawesome.com","use.fontawesome.com"].some(l=>a.endsWith(l)))return!0;let s=(n.pathname+n.search).toLowerCase();if(/\bfont(s)?\b/.test(s)||/\.woff2?(\b|$)/.test(s))return!0;for(let l of e){let i=l.toLowerCase().replace(/\s+/g,"+"),c=l.toLowerCase().replace(/\s+/g,"-");if(s.includes(i)||s.includes(c))return!0}return!1}catch(n){return!1}}function er(t){var n;let e=new Set;for(let r of t||[]){let a=(n=String(r).split("__")[0])==null?void 0:n.trim();a&&e.add(a)}return e}function te(){return $(this,arguments,function*({required:t,usedCodepoints:e,exclude:n=void 0,localFonts:r=[],useProxy:a=""}={}){var N,P,V,ot,et,at,lt,ft,_t,Y,yt,St,Et,wt,B,q,K,G;t instanceof Set||(t=new Set),e instanceof Set||(e=new Set);let o=new Map;for(let p of t){let[w,C,v,x]=String(p).split("__");if(!w)continue;let A=o.get(w)||[];A.push({w:parseInt(C,10),s:v,st:parseInt(x,10)}),o.set(w,A)}let s=/@import\s+url\(["']?([^"')]+)["']?\)/g,l=/url\((["']?)([^"')]+)\1\)/g,i=/@font-face[^{}]*\{[^}]*\}/g;function c(p,w,C,v){if(!o.has(p))return!1;let x=o.get(p),A=Jn(C),L=Qn(w),_=Zn(v),R=A.min!==A.max,U=A.min,T=H=>L.kind==="normal"&&H==="normal"||L.kind!=="normal"&&(H==="italic"||H==="oblique"),O=!1;for(let H of x){let nt=R?H.w>=A.min&&H.w<=A.max:H.w===U,ut=T(ke(H.s)),bt=H.st>=_.min&&H.st<=_.max;if(nt&&ut&&bt){O=!0;break}}if(O)return!0;if(!R)for(let H of x){let nt=T(ke(H.s)),ut=H.st>=_.min&&H.st<=_.max;if(Math.abs(U-H.w)<=300&&nt&&ut)return!0}return!1}function f(p){if(!p)return[];let w=[],C=p.split(",").map(v=>v.trim()).filter(Boolean);for(let v of C){let x=v.match(/^U\+([0-9A-Fa-f?]+)(?:-([0-9A-Fa-f?]+))?$/);if(!x)continue;let A=x[1],L=x[2],_=R=>{if(!R.includes("?"))return parseInt(R,16);let U=parseInt(R.replace(/\?/g,"0"),16),T=parseInt(R.replace(/\?/g,"F"),16);return[U,T]};if(L){let R=_(A),U=_(L),T=Array.isArray(R)?R[0]:R,O=Array.isArray(U)?U[1]:U;w.push([Math.min(T,O),Math.max(T,O)])}else{let R=_(A);Array.isArray(R)?w.push([R[0],R[1]]):w.push([R,R])}}return w}function d(p,w){if(!w.length||!p||p.size===0)return!0;for(let C of p)for(let[v,x]of w)if(C>=v&&C<=x)return!0;return!1}function m(p,w){let C=[];if(!p)return C;for(let v of p.matchAll(l)){let x=(v[2]||"").trim();if(!(!x||x.startsWith("data:"))){if(!/^https?:/i.test(x))try{x=new URL(x,w||location.href).href}catch(A){}C.push(x)}}return C}function g(p,w){return $(this,null,function*(){var v,x,A,L,_;let C=p;for(let R of p.matchAll(l)){let U=Lt(R[0]);if(!U)continue;let T=U;if(!T.startsWith("http")&&!T.startsWith("data:"))try{T=new URL(T,w||location.href).href}catch(O){}if(!mt(T)){if((v=y.resource)!=null&&v.has(T)){(x=y.font)==null||x.add(T),C=C.replace(R[0],`url(${y.resource.get(T)})`);continue}if(!((A=y.font)!=null&&A.has(T)))try{let O=yield Z(T,{as:"dataURL",useProxy:a,silent:!0});if(O.ok&&typeof O.data=="string"){let H=O.data;(L=y.resource)==null||L.set(T,H),(_=y.font)==null||_.add(T),C=C.replace(R[0],`url(${H})`)}}catch(O){console.warn("[snapDOM] Failed to fetch font resource:",T)}}}return C})}function b(p){if(!p.length)return null;let w=(_,R)=>p.some(([U,T])=>!(T<_||U>R)),C=w(0,255)||w(305,305),v=w(256,591)||w(7680,7935),x=w(880,1023),A=w(1024,1279);return w(7840,7929)||w(258,259)||w(416,417)||w(431,432)?"vietnamese":A?"cyrillic":x?"greek":v?"latin-ext":C?"latin":null}function u(p={}){let w=new Set((p.families||[]).map(x=>String(x).toLowerCase())),C=new Set((p.domains||[]).map(x=>String(x).toLowerCase())),v=new Set((p.subsets||[]).map(x=>String(x).toLowerCase()));return(x,A)=>{if(w.size&&w.has(x.family.toLowerCase()))return!0;if(C.size)for(let L of x.srcUrls)try{if(C.has(new URL(L).host.toLowerCase()))return!0}catch(_){}if(v.size){let L=b(A);if(L&&v.has(L))return!0}return!1}}let h=u(n);function S(p){var A,L,_,R,U,T;if(!p)return p;let w=/@font-face[^{}]*\{[^}]*\}/gi,C=new Set,v=[];for(let O of p.match(w)||[]){let H=((A=O.match(/font-family:\s*([^;]+);/i))==null?void 0:A[1])||"",nt=Qt(H),ut=(((L=O.match(/font-weight:\s*([^;]+);/i))==null?void 0:L[1])||"400").trim(),bt=(((_=O.match(/font-style:\s*([^;]+);/i))==null?void 0:_[1])||"normal").trim(),ce=(((R=O.match(/font-stretch:\s*([^;]+);/i))==null?void 0:R[1])||"100%").trim(),le=(((U=O.match(/unicode-range:\s*([^;]+);/i))==null?void 0:U[1])||"").trim(),fe=(((T=O.match(/src\s*:\s*([^;]+);/i))==null?void 0:T[1])||"").trim(),ue=m(fe,location.href),z=ue.length?ue.map(j=>String(j).toLowerCase()).sort().join("|"):fe.toLowerCase(),D=[String(nt||"").toLowerCase(),ut,bt,ce,le.toLowerCase(),z].join("|");C.has(D)||(C.add(D),v.push(O))}if(v.length===0)return p;let x=0;return p.replace(w,()=>v[x++]||"")}function M(){let p=Array.from(t||[]).sort().join("|"),w=n?JSON.stringify({families:(n.families||[]).map(x=>String(x).toLowerCase()).sort(),domains:(n.domains||[]).map(x=>String(x).toLowerCase()).sort(),subsets:(n.subsets||[]).map(x=>String(x).toLowerCase()).sort()}):"",C=(r||[]).map(x=>`${(x.family||"").toLowerCase()}::${x.weight||"normal"}::${x.style||"normal"}::${x.src||""}`).sort().join("|");return`fonts-embed-css::req=${p}::ex=${w}::lf=${C}::px=${a||""}`}let I=M();if((N=y.resource)!=null&&N.has(I))return y.resource.get(I);let E=er(t),F=[];for(let p of document.querySelectorAll("style")){let w=p.textContent||"";for(let C of w.matchAll(s)){let v=C[1];if(!v||mt(v))continue;!!document.querySelector(`link[rel="stylesheet"][href="${v}"]`)||F.push(v)}}F.length&&(yield Promise.all(F.map(p=>new Promise(w=>{if(document.querySelector(`link[rel="stylesheet"][href="${p}"]`))return w(null);let C=document.createElement("link");C.rel="stylesheet",C.href=p,C.setAttribute("data-snapdom","injected-import"),C.onload=()=>w(C),C.onerror=()=>w(null),document.head.appendChild(C)}))));let k="",W=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(p=>!!p.href);for(let p of W)try{if(mt(p.href))continue;let w="",C=!1;try{C=new URL(p.href,location.href).origin===location.origin}catch(x){}if(!C&&!tr(p.href,E))continue;if(C){let x=Array.from(document.styleSheets).find(A=>A.href===p.href);if(x)try{let A=x.cssRules||[];w=Array.from(A).map(L=>L.cssText).join("")}catch(A){}}if(!w&&(w=(yield Z(p.href,{as:"text",useProxy:a})).data,mt(p.href)))continue;let v="";for(let x of w.match(i)||[]){let A=(((P=x.match(/font-family:\s*([^;]+);/i))==null?void 0:P[1])||"").trim(),L=Qt(A);if(!L||mt(L))continue;let _=(((V=x.match(/font-weight:\s*([^;]+);/i))==null?void 0:V[1])||"400").trim(),R=(((ot=x.match(/font-style:\s*([^;]+);/i))==null?void 0:ot[1])||"normal").trim(),U=(((et=x.match(/font-stretch:\s*([^;]+);/i))==null?void 0:et[1])||"100%").trim(),T=(((at=x.match(/unicode-range:\s*([^;]+);/i))==null?void 0:at[1])||"").trim(),O=(((lt=x.match(/src\s*:\s*([^;]+);/i))==null?void 0:lt[1])||"").trim(),H=m(O,p.href);if(!c(L,R,_,U))continue;let nt=f(T);if(!d(e,nt))continue;let ut={family:L,weightSpec:_,styleSpec:R,stretchSpec:U,unicodeRange:T,srcRaw:O,srcUrls:H,href:p.href};if(n&&h(ut,nt))continue;let bt=/url\(/i.test(O)?yield g(x,p.href):x;v+=bt+""}v.trim()&&(k+=v+"")}catch(w){console.warn("[snapdom] Failed to process stylesheet:",p.href)}for(let p of document.styleSheets)try{if(p.href&&W.some(C=>C.href===p.href))continue;let w=p.cssRules||[];for(let C of w){if(C.type!==CSSRule.FONT_FACE_RULE)continue;let v=(C.style.getPropertyValue("font-family")||"").trim(),x=Qt(v);if(!x||mt(x))continue;let A=(C.style.getPropertyValue("font-weight")||"400").trim(),L=(C.style.getPropertyValue("font-style")||"normal").trim(),_=(C.style.getPropertyValue("font-stretch")||"100%").trim(),R=(C.style.getPropertyValue("src")||"").trim(),U=(C.style.getPropertyValue("unicode-range")||"").trim(),T=m(R,p.href||location.href);if(!c(x,L,A,_))continue;let O=f(U);if(!d(e,O))continue;let H={family:x,weightSpec:A,styleSpec:L,stretchSpec:_,unicodeRange:U,srcRaw:R,srcUrls:T,href:p.href||location.href};if(!(n&&h(H,O)))if(/url\(/i.test(R)){let nt=yield g(R,p.href||location.href);k+=`@font-face{font-family:${x};src:${nt};font-style:${L};font-weight:${A};font-stretch:${_};${U?`unicode-range:${U};`:""}}`}else k+=`@font-face{font-family:${x};src:${R};font-style:${L};font-weight:${A};font-stretch:${_};${U?`unicode-range:${U};`:""}}`}}catch(w){}try{for(let p of document.fonts||[]){if(!p||!p.family||p.status!=="loaded"||!p._snapdomSrc)continue;let w=String(p.family).replace(/^['"]+|['"]+$/g,"");if(mt(w)||!o.has(w)||n!=null&&n.families&&n.families.some(v=>String(v).toLowerCase()===w.toLowerCase()))continue;let C=p._snapdomSrc;if(!String(C).startsWith("data:")){if((ft=y.resource)!=null&&ft.has(p._snapdomSrc))C=y.resource.get(p._snapdomSrc),(_t=y.font)==null||_t.add(p._snapdomSrc);else if(!((Y=y.font)!=null&&Y.has(p._snapdomSrc)))try{let v=yield Z(p._snapdomSrc,{as:"dataURL",useProxy:a,silent:!0});if(v.ok&&typeof v.data=="string")C=v.data,(yt=y.resource)==null||yt.set(p._snapdomSrc,C),(St=y.font)==null||St.add(p._snapdomSrc);else continue}catch(v){console.warn("[snapdom] Failed to fetch dynamic font src:",p._snapdomSrc);continue}}k+=`@font-face{font-family:'${w}';src:url(${C});font-style:${p.style||"normal"};font-weight:${p.weight||"normal"};}`}}catch(p){}for(let p of r){if(!p||typeof p!="object")continue;let w=String(p.family||"").replace(/^['"]+|['"]+$/g,"");if(!w||mt(w)||!o.has(w)||n!=null&&n.families&&n.families.some(_=>String(_).toLowerCase()===w.toLowerCase()))continue;let C=p.weight!=null?String(p.weight):"normal",v=p.style!=null?String(p.style):"normal",x=p.stretchPct!=null?`${p.stretchPct}%`:"100%",A=String(p.src||""),L=A;if(!L.startsWith("data:")){if((Et=y.resource)!=null&&Et.has(A))L=y.resource.get(A),(wt=y.font)==null||wt.add(A);else if(!((B=y.font)!=null&&B.has(A)))try{let _=yield Z(A,{as:"dataURL",useProxy:a,silent:!0});if(_.ok&&typeof _.data=="string")L=_.data,(q=y.resource)==null||q.set(A,L),(K=y.font)==null||K.add(A);else continue}catch(_){console.warn("[snapdom] Failed to fetch localFonts src:",A);continue}}k+=`@font-face{font-family:'${w}';src:url(${L});font-style:${v};font-weight:${C};font-stretch:${x};}`}return k&&(k=S(k),(G=y.resource)==null||G.set(I,k)),k})}function ee(t){let e=new Set;if(!t)return e;let n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null),r=s=>{let l=Qt(s.fontFamily);if(!l)return;let i=(c,f,d)=>`${l}__${Zt(c)}__${ke(f)}__${Kn(d)}`;e.add(i(s.fontWeight,s.fontStyle,s.fontStretch))};r(getComputedStyle(t));let a=getComputedStyle(t,"::before");a&&a.content&&a.content!=="none"&&r(a);let o=getComputedStyle(t,"::after");for(o&&o.content&&o.content!=="none"&&r(o);n.nextNode();){let s=n.currentNode,l=getComputedStyle(s);r(l);let i=getComputedStyle(s,"::before");i&&i.content&&i.content!=="none"&&r(i);let c=getComputedStyle(s,"::after");c&&c.content&&c.content!=="none"&&r(c)}return e}function ne(t){let e=new Set,n=a=>{if(a)for(let o of a)e.add(o.codePointAt(0))},r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);for(;r.nextNode();){let a=r.currentNode;if(a.nodeType===Node.TEXT_NODE)n(a.nodeValue||"");else if(a.nodeType===Node.ELEMENT_NODE){let o=a;for(let s of["::before","::after"]){let l=getComputedStyle(o,s),i=l==null?void 0:l.getPropertyValue("content");if(!(!i||i==="none"))if(/^"/.test(i)||/^'/.test(i))n(i.slice(1,-1));else{let c=i.match(/\\[0-9A-Fa-f]{1,6}/g);if(c)for(let f of c)try{e.add(parseInt(f.slice(1),16))}catch(d){}}}}}return e}function re(t,e=2){return $(this,null,function*(){try{yield document.fonts.ready}catch(a){}let n=Array.from(t||[]).filter(Boolean);if(n.length===0)return;let r=()=>{let a=document.createElement("div");a.style.cssText="position: absolute !important;left: -9999px !important;top: 0 !important;opacity: 0 !important;pointer-events: none !important;contain: layout size style;";for(let o of n){let s=document.createElement("span");s.textContent="AaBbGg1234\xC1\xC9\xCD\xD3\xDA\xE7\xF1\u2014\u221E",s.style.fontFamily=`"${o}"`,s.style.fontWeight="700",s.style.fontStyle="italic",s.style.fontSize="32px",s.style.lineHeight="1",s.style.whiteSpace="nowrap",s.style.margin="0",s.style.padding="0",a.appendChild(s)}document.body.appendChild(a),a.offsetWidth,document.body.removeChild(a)};for(let a=0;a<Math.max(1,e);a++)r(),yield new Promise(o=>requestAnimationFrame(()=>requestAnimationFrame(o)))})}function Xe(t){return/\bcounter\s*\(|\bcounters\s*\(/.test(t||"")}function nr(t){return(t||"").replace(/"([^"]*)"/g,"$1")}function je(t,e=!1){let n="",r=Math.max(1,t);for(;r>0;)r--,n=String.fromCharCode(97+r%26)+n,r=Math.floor(r/26);return e?n.toUpperCase():n}function Ve(t,e=!0){let n=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]],r=Math.max(1,Math.min(3999,t)),a="";for(let[o,s]of n)for(;r>=o;)a+=s,r-=o;return e?a:a.toLowerCase()}function ze(t,e){switch((e||"decimal").toLowerCase()){case"decimal":return String(Math.max(0,t));case"decimal-leading-zero":return(t<10?"0":"")+String(Math.max(0,t));case"lower-alpha":return je(t,!1);case"upper-alpha":return je(t,!0);case"lower-roman":return Ve(t,!1);case"upper-roman":return Ve(t,!0);default:return String(Math.max(0,t))}}function Ye(t){let e=new WeakMap,n=t instanceof Document?t.documentElement:t,r=c=>c&&c.tagName==="LI",a=c=>{let f=0,d=c==null?void 0:c.parentElement;if(!d)return 0;for(let m of d.children){if(m===c)break;m.tagName==="LI"&&f++}return f},o=c=>{let f=new Map;for(let[d,m]of c)f.set(d,m.slice());return f},s=(c,f,d)=>{var u,h;let m=o(c),g;try{g=((u=d.style)==null?void 0:u.counterReset)||getComputedStyle(d).counterReset}catch(S){}if(g&&g!=="none")for(let S of g.split(",")){let M=S.trim().split(/\s+/),I=M[0],E=Number.isFinite(Number(M[1]))?Number(M[1]):0;if(!I)continue;let F=f.get(I);if(F&&F.length){let k=F.slice();k.push(E),m.set(I,k)}else m.set(I,[E])}let b;try{b=((h=d.style)==null?void 0:h.counterIncrement)||getComputedStyle(d).counterIncrement}catch(S){}if(b&&b!=="none")for(let S of b.split(",")){let M=S.trim().split(/\s+/),I=M[0],E=Number.isFinite(Number(M[1]))?Number(M[1]):1;if(!I)continue;let F=m.get(I)||[];F.length===0&&F.push(0),F[F.length-1]+=E,m.set(I,F)}try{if(getComputedStyle(d).display==="list-item"&&r(d)){let M=d.parentElement,I=1;if(M&&M.tagName==="OL"){let F=M.getAttribute("start"),k=Number.isFinite(Number(F))?Number(F):1,W=a(d),N=d.getAttribute("value");I=Number.isFinite(Number(N))?Number(N):k+W}else I=1+a(d);let E=m.get("list-item")||[];E.length===0&&E.push(0),E[E.length-1]=I,m.set("list-item",E)}}catch(S){}return m},l=(c,f,d)=>{let m=s(d,f,c);e.set(c,m);let g=m;for(let b of c.children)g=l(b,m,g);return m},i=new Map;return l(n,i,i),{get(c,f){var m;let d=(m=e.get(c))==null?void 0:m.get(f);return d&&d.length?d[d.length-1]:0},getStack(c,f){var m;let d=(m=e.get(c))==null?void 0:m.get(f);return d?d.slice():[]}}}function Ge(t,e,n){if(!t||t==="none")return t;try{let r=/\b(counter|counters)\s*\(([^)]+)\)/g,a=t.replace(r,(o,s,l)=>{var c,f,d,m;let i=String(l).split(",").map(g=>g.trim());if(s==="counter"){let g=(c=i[0])==null?void 0:c.replace(/^["']|["']$/g,""),b=(i[1]||"decimal").toLowerCase(),u=n.get(e,g);return ze(u,b)}else{let g=(f=i[0])==null?void 0:f.replace(/^["']|["']$/g,""),b=(m=(d=i[1])==null?void 0:d.replace(/^["']|["']$/g,""))!=null?m:"",u=(i[2]||"decimal").toLowerCase(),h=n.getStack(e,g);return h.length?h.map(M=>ze(M,u)).join(b):""}});return nr(a)}catch(r){return"- "}}var jt=null,Vt=new WeakMap;function rr(t){return(t||"").replace(/"([^"]*)"/g,"$1")}function or(t){if(!t)return"";let e=[],n=/"([^"]*)"/g,r;for(;r=n.exec(t);)e.push(r[1]);return e.length?e.join(""):rr(t)}function Me(t,e){let n=t.parentElement,r=n?Vt.get(n):null;return r?{get(a,o){let s=e.get(a,o),l=r.get(o);return typeof l=="number"?Math.max(s,l):s},getStack(a,o){let s=e.getStack(a,o);if(!s.length)return s;let l=r.get(o);if(typeof l=="number"){let i=s.slice();return i[i.length-1]=Math.max(i[i.length-1],l),i}return s}}:e}function Ae(t,e,n){let r=new Map;function a(i){let c=[];if(!i||i==="none")return c;for(let f of String(i).split(",")){let d=f.trim().split(/\s+/),m=d[0],g=Number.isFinite(Number(d[1]))?Number(d[1]):void 0;m&&c.push({name:m,num:g})}return c}let o=a(e==null?void 0:e.counterReset),s=a(e==null?void 0:e.counterIncrement);function l(i){if(r.has(i))return r.get(i).slice();let c=n.getStack(t,i);c=c.length?c.slice():[];let f=o.find(m=>m.name===i);if(f){let m=Number.isFinite(f.num)?f.num:0;c=c.length?[...c,m]:[m]}let d=s.find(m=>m.name===i);if(d){let m=Number.isFinite(d.num)?d.num:1;c.length===0&&(c=[0]),c[c.length-1]+=m}return r.set(i,c.slice()),c}return{get(i,c){let f=l(c);return f.length?f[f.length-1]:0},getStack(i,c){return l(c)},__incs:s}}function ar(t,e,n){let r;try{r=getComputedStyle(t,e)}catch(c){}let a=r==null?void 0:r.content;if(!a||a==="none"||a==="normal")return{text:"",incs:[]};let o=Me(t,n),s=Ae(t,r,o),l=Xe(a)?Ge(a,t,s):a;return{text:or(l),incs:s.__incs||[]}}function $e(t,e,n,r){return $(this,null,function*(){var s;if(!(t instanceof Element)||!(e instanceof Element))return;if(!jt)try{jt=Ye(t.ownerDocument||document)}catch(l){}for(let l of["::before","::after","::first-letter"])try{let i=It(t,l);if(!i||typeof i[Symbol.iterator]!="function"||i.content==="none"&&i.backgroundImage==="none"&&i.backgroundColor==="transparent"&&(i.borderStyle==="none"||parseFloat(i.borderWidth)===0)&&(!i.transform||i.transform==="none")&&i.display==="inline")continue;if(l==="::first-letter"){let B=getComputedStyle(t);if(!(i.color!==B.color||i.fontSize!==B.fontSize||i.fontWeight!==B.fontWeight))continue;let K=Array.from(e.childNodes).find(_=>{var R;return _.nodeType===Node.TEXT_NODE&&((R=_.textContent)==null?void 0:R.trim().length)>0});if(!K)continue;let G=K.textContent,p=G.match(/^([^\p{L}\p{N}\s]*[\p{L}\p{N}](?:['â€™])?)/u),w=p==null?void 0:p[0],C=G.slice((w==null?void 0:w.length)||0);if(!w||/[\uD800-\uDFFF]/.test(w))continue;let v=document.createElement("span");v.textContent=w,v.dataset.snapdomPseudo="::first-letter";let x=Jt(i),A=Dt(x,"span");n.styleMap.set(v,A);let L=document.createTextNode(C);e.replaceChild(L,K),e.insertBefore(v,L);continue}let f=i.content,{text:d,incs:m}=ar(t,l,jt),g=i.backgroundImage,b=i.backgroundColor,u=i.fontFamily,h=parseInt(i.fontSize)||32,S=parseInt(i.fontWeight)||!1,M=i.color||"#000",I=i.display,E=parseFloat(i.width),F=parseFloat(i.height),k=i.borderStyle,W=parseFloat(i.borderWidth),N=i.transform,P=mt(u),V=f!=="none"&&d!=="",ot=g&&g!=="none",et=b&&b!=="transparent"&&b!=="rgba(0, 0, 0, 0)",at=I!=="inline"&&(E>0||F>0),lt=k&&k!=="none"&&W>0,ft=N&&N!=="none";if(!(V||ot||et||at||lt||ft)){if(m&&m.length&&t.parentElement){let B=Vt.get(t.parentElement)||new Map;for(let{name:q,num:K}of m){if(!q)continue;let G=Me(t,jt),w=Ae(t,getComputedStyle(t,l),G).get(t,q);B.set(q,w)}Vt.set(t.parentElement,B)}continue}let Y=document.createElement("span");Y.dataset.snapdomPseudo=l,Y.style.verticalAlign="middle";let yt=Jt(i),St=Dt(yt,"span");if(n.styleMap.set(Y,St),P&&d&&d.length===1){let{dataUrl:B,width:q,height:K}=yield qe(d,u,S,h,M),G=document.createElement("img");G.src=B,G.style=`height:${h}px;width:${q/K*h}px;object-fit:contain;`,Y.appendChild(G),e.dataset.snapdomHasIcon="true"}else if(d&&d.startsWith("url(")){let B=Lt(d);if(B!=null&&B.trim())try{let q=document.createElement("img"),K=yield Z(At(B),{as:"dataURL",useProxy:r.useProxy});q.src=K.data,q.style=`width:${h}px;height:auto;object-fit:contain;`,Y.appendChild(q)}catch(q){console.error(`[snapdom] Error in pseudo ${l} for`,t,q)}}else!P&&V&&(Y.textContent=d);if(ot)try{let B=Tt(g),q=yield Promise.all(B.map(Rt));Y.style.backgroundImage=q.join(", ")}catch(B){console.warn(`[snapdom] Failed to inline background-image for ${l}`,B)}et&&(Y.style.backgroundColor=b);let wt=Y.childNodes.length>0||((s=Y.textContent)==null?void 0:s.trim())!==""||ot||et||at||lt||ft;if(m&&m.length&&t.parentElement){let B=Vt.get(t.parentElement)||new Map,q=Me(t,jt),K=Ae(t,getComputedStyle(t,l),q);for(let{name:G}of m){if(!G)continue;let p=K.get(t,G);B.set(G,p)}Vt.set(t.parentElement,B)}if(!wt)continue;l==="::before"?e.insertBefore(Y,e.firstChild):e.appendChild(Y)}catch(i){console.warn(`[snapdom] Failed to capture ${l} for`,t,i)}let a=Array.from(t.children),o=Array.from(e.children).filter(l=>!l.dataset.snapdomPseudo);for(let l=0;l<Math.min(a.length,o.length);l++)yield $e(a[l],o[l],n,r)})}function Ke(t){if(!t)return;let e=new Set;if(t.querySelectorAll("use").forEach(l=>{let i=l.getAttribute("xlink:href")||l.getAttribute("href");i&&i.startsWith("#")&&e.add(i.slice(1))}),!e.size)return;let n=Array.from(document.querySelectorAll("svg > symbol, svg > defs")),r=n.filter(l=>l.tagName.toLowerCase()==="symbol"),a=n.filter(l=>l.tagName.toLowerCase()==="defs"),o=t.querySelector("svg.inline-defs-container");o||(o=document.createElementNS("http://www.w3.org/2000/svg","svg"),o.setAttribute("aria-hidden","true"),o.setAttribute("style","position: absolute; width: 0; height: 0; overflow: hidden;"),o.classList.add("inline-defs-container"),t.insertBefore(o,t.firstChild));let s=new Set;t.querySelectorAll("symbol[id], defs > *[id]").forEach(l=>{s.add(l.id)}),e.forEach(l=>{if(s.has(l))return;let i=r.find(c=>c.id===l);if(i){o.appendChild(i.cloneNode(!0)),s.add(l);return}for(let c of a){let f=c.querySelector(`#${CSS.escape(l)}`);if(f){let d=o.querySelector("defs");d||(d=document.createElementNS("http://www.w3.org/2000/svg","defs"),o.appendChild(d)),d.appendChild(f.cloneNode(!0)),s.add(l);break}}})}function Qe(n){return $(this,arguments,function*(t,e={}){var i,c;let r={styleMap:y.session.styleMap,styleCache:y.session.styleCache,nodeMap:y.session.nodeMap},a,o="",s="";sr(t);try{Ke(t)}catch(f){console.warn("inlineExternal defs or symbol failed:",f)}try{a=yield qt(t,r,e,t)}catch(f){throw console.warn("deepClone failed:",f),f}try{yield $e(t,a,r,e)}catch(f){console.warn("inlinePseudoElements failed:",f)}yield fr(a);try{let f=a.querySelectorAll("style[data-sd]");for(let d of f)s+=d.textContent||"",d.remove()}catch(f){}let l=we(r.styleMap);o=Array.from(l.entries()).map(([f,d])=>`.${d}{${f}}`).join(""),o=s+o;for(let[f,d]of r.styleMap.entries()){if(f.tagName==="STYLE")continue;if(f.getRootNode&&f.getRootNode()instanceof ShadowRoot){f.setAttribute("style",d.replace(/;/g,"; "));continue}let m=l.get(d);m&&f.classList.add(m);let g=(i=f.style)==null?void 0:i.backgroundImage,b=(c=f.dataset)==null?void 0:c.snapdomHasIcon;g&&g!=="none"&&(f.style.backgroundImage=g),b&&(f.style.verticalAlign="middle",f.style.display="inline")}for(let[f,d]of r.nodeMap.entries()){let m=d.scrollLeft,g=d.scrollTop;if((m||g)&&f instanceof HTMLElement){f.style.overflow="hidden",f.style.scrollbarWidth="none",f.style.msOverflowStyle="none";let u=document.createElement("div");for(u.style.transform=`translate(${-m}px, ${-g}px)`,u.style.willChange="transform",u.style.display="inline-block",u.style.width="100%";f.firstChild;)u.appendChild(f.firstChild);f.appendChild(u)}}if(t===r.nodeMap.get(a)){let f=r.styleCache.get(t)||window.getComputedStyle(t);r.styleCache.set(t,f);let d=de(f.transform);a.style.margin="0",a.style.top="auto",a.style.left="auto",a.style.right="auto",a.style.bottom="auto",a.style.animation="none",a.style.transition="none",a.style.willChange="auto",a.style.float="none",a.style.clear="none",a.style.transform=d||""}for(let[f,d]of r.nodeMap.entries())d.tagName==="PRE"&&(f.style.marginTop="0",f.style.marginBlockStart="0");return{clone:a,classCSS:o,styleCache:r.styleCache}})}function sr(t){let e=getComputedStyle(t),n=e.outlineStyle,r=e.outlineWidth,a=e.borderStyle,o=e.borderWidth,s=n!=="none"&&parseFloat(r)>0,l=a==="none"||parseFloat(o)===0;s&&l&&(t.style.border=`${r} solid transparent`)}var zt=new Map;function Xt(t){return $(this,null,function*(){var n;if((n=y.resource)!=null&&n.has(t))return y.resource.get(t);if(zt.has(t))return zt.get(t);let e=$(null,null,function*(){var a;let r=yield Z(t,{as:"dataURL",silent:!0});if(!r.ok||typeof r.data!="string")throw new Error(`[snapDOM] Failed to read blob URL: ${t}`);return(a=y.resource)==null||a.set(t,r.data),r.data});zt.set(t,e);try{let r=yield e;return zt.set(t,r),r}catch(r){throw zt.delete(t),r}})}var ir=/\bblob:[^)"'\s]+/g;function Je(t){return $(this,null,function*(){if(!t||t.indexOf("blob:")===-1)return t;let e=Array.from(new Set(t.match(ir)||[]));if(e.length===0)return t;let n=t;for(let r of e)try{let a=yield Xt(r);n=n.split(r).join(a)}catch(a){}return n})}function oe(t){return typeof t=="string"&&t.startsWith("blob:")}function cr(t){return(t||"").split(",").map(e=>e.trim()).filter(Boolean).map(e=>{let n=e.match(/^(\S+)(\s+.+)?$/);return n?{url:n[1],desc:n[2]||""}:null}).filter(Boolean)}function lr(t){return t.map(e=>e.desc?`${e.url} ${e.desc.trim()}`:e.url).join(", ")}function fr(t){return $(this,null,function*(){var s,l;if(!t)return;let e=t.querySelectorAll?t.querySelectorAll("img"):[];for(let i of e)try{let f=i.getAttribute("src")||i.currentSrc||"";if(oe(f)){let m=yield Xt(f);i.setAttribute("src",m)}let d=i.getAttribute("srcset");if(d&&d.includes("blob:")){let m=cr(d),g=!1;for(let b of m)if(oe(b.url))try{b.url=yield Xt(b.url),g=!0}catch(u){}g&&i.setAttribute("srcset",lr(m))}}catch(c){}let n=t.querySelectorAll?t.querySelectorAll("image"):[];for(let i of n)try{let c="http://www.w3.org/1999/xlink",f=i.getAttribute("href")||((s=i.getAttributeNS)==null?void 0:s.call(i,c,"href"));if(oe(f)){let d=yield Xt(f);i.setAttribute("href",d),(l=i.removeAttributeNS)==null||l.call(i,c,"href")}}catch(c){}let r=t.querySelectorAll?t.querySelectorAll("[style*='blob:']"):[];for(let i of r)try{let c=i.getAttribute("style");if(c&&c.includes("blob:")){let f=yield Je(c);i.setAttribute("style",f)}}catch(c){}let a=t.querySelectorAll?t.querySelectorAll("style"):[];for(let i of a)try{let c=i.textContent||"";c.includes("blob:")&&(i.textContent=yield Je(c))}catch(c){}let o=["poster"];for(let i of o){let c=t.querySelectorAll?t.querySelectorAll(`[${i}^='blob:']`):[];for(let f of c)try{let d=f.getAttribute(i);oe(d)&&f.setAttribute(i,yield Xt(d))}catch(d){}}})}function Ze(n){return $(this,arguments,function*(t,e={}){let r=Array.from(t.querySelectorAll("img")),a=o=>$(null,null,function*(){var d,m,g,b;if(!o.getAttribute("src")){let u=o.currentSrc||o.src||"";u&&o.setAttribute("src",u)}o.removeAttribute("srcset"),o.removeAttribute("sizes");let s=o.src||"";if(!s)return;let l=yield Z(s,{as:"dataURL",useProxy:e.useProxy});if(l.ok&&typeof l.data=="string"&&l.data.startsWith("data:")){o.src=l.data,o.width||(o.width=o.naturalWidth||100),o.height||(o.height=o.naturalHeight||100);return}let{fallbackURL:i}=e||{};if(i)try{let u=parseInt(((d=o.dataset)==null?void 0:d.snapdomWidth)||"",10)||0,h=parseInt(((m=o.dataset)==null?void 0:m.snapdomHeight)||"",10)||0,S=parseInt(o.getAttribute("width")||"",10)||0,M=parseInt(o.getAttribute("height")||"",10)||0,I=parseFloat(((g=o.style)==null?void 0:g.width)||"")||0,E=parseFloat(((b=o.style)==null?void 0:b.height)||"")||0,F=u||I||S||o.width||void 0,k=h||E||M||o.height||void 0,W=typeof i=="function"?yield i({width:F,height:k,src:s,element:o}):i;if(W){let N=yield Z(W,{as:"dataURL",useProxy:e.useProxy});o.src=N.data,!o.width&&F&&(o.width=F),!o.height&&k&&(o.height=k),o.width||(o.width=o.naturalWidth||100),o.height||(o.height=o.naturalHeight||100);return}}catch(u){}let c=o.width||o.naturalWidth||100,f=o.height||o.naturalHeight||100;if(e.placeholders!==!1){let u=document.createElement("div");u.style.cssText=[`width:${c}px`,`height:${f}px`,"background:#ccc","display:inline-block","text-align:center",`line-height:${f}px`,"color:#666","font-size:12px","overflow:hidden"].join(";"),u.textContent="img",o.replaceWith(u)}else{let u=document.createElement("div");u.style.cssText=`display:inline-block;width:${c}px;height:${f}px;visibility:hidden;`,o.replaceWith(u)}});for(let o=0;o<r.length;o+=4){let s=r.slice(o,o+4).map(a);yield Promise.allSettled(s)}})}function ae(a,o,s){return $(this,arguments,function*(t,e,n,r={}){let l=[[t,e]],i=["background-image","mask","mask-image","-webkit-mask","-webkit-mask-image","mask-source","mask-box-image-source","mask-border-source","-webkit-mask-box-image-source","border-image","border-image-source"],c=["mask-position","mask-size","mask-repeat","-webkit-mask-position","-webkit-mask-size","-webkit-mask-repeat","mask-origin","mask-clip","-webkit-mask-origin","-webkit-mask-clip","-webkit-mask-position-x","-webkit-mask-position-y"],f=["border-image-slice","border-image-width","border-image-outset","border-image-repeat"];for(;l.length;){let[d,m]=l.shift(),g=n.get(d)||It(d);n.has(d)||n.set(d,g);let b=(()=>{let S=g.getPropertyValue("border-image"),M=g.getPropertyValue("border-image-source");return S&&S!=="none"||M&&M!=="none"})();for(let S of i){let M=g.getPropertyValue(S);if(!M||M==="none")continue;let I=Tt(M),E=yield Promise.all(I.map(F=>Rt(F,r)));E.some(F=>F&&F!=="none"&&!/^url\(undefined/.test(F))&&m.style.setProperty(S,E.join(", "))}for(let S of c){let M=g.getPropertyValue(S);!M||M==="initial"||m.style.setProperty(S,M)}if(b)for(let S of f){let M=g.getPropertyValue(S);!M||M==="initial"||m.style.setProperty(S,M)}let u=Array.from(d.children),h=Array.from(m.children);for(let S=0;S<Math.min(u.length,h.length);S++)l.push([u[S],h[S]])}})}function tn(t){var c;if(!t)return()=>{};let e=ur(t);if(e<=0)return()=>{};if(!hr(t))return()=>{};let n=getComputedStyle(t),r=Math.round(dr(n)*e+mr(n)),a=(c=t.textContent)!=null?c:"",o=a;if(t.scrollHeight<=r+.5)return()=>{};let s=0,l=a.length,i=-1;for(;s<=l;){let f=s+l>>1;t.textContent=a.slice(0,f)+"\u2026",t.scrollHeight<=r+.5?(i=f,s=f+1):l=f-1}return t.textContent=(i>=0?a.slice(0,i):"")+"\u2026",()=>{t.textContent=o}}function ur(t){let e=getComputedStyle(t),n=e.getPropertyValue("-webkit-line-clamp")||e.getPropertyValue("line-clamp");n=(n||"").trim();let r=parseInt(n,10);return Number.isFinite(r)&&r>0?r:0}function dr(t){let e=(t.lineHeight||"").trim(),n=parseFloat(t.fontSize)||16;return!e||e==="normal"?Math.round(n*1.2):e.endsWith("px")?parseFloat(e):/^\d+(\.\d+)?$/.test(e)?Math.round(parseFloat(e)*n):e.endsWith("%")?Math.round(parseFloat(e)/100*n):Math.round(n*1.2)}function mr(t){return(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0)}function hr(t){return t.childElementCount>0?!1:Array.from(t.childNodes).some(e=>e.nodeType===Node.TEXT_NODE)}function Fe(t,e){return $(this,null,function*(){if(!t)throw new Error("Element cannot be null or undefined");Yt(e.cache);let n=e.fast,r,a,o,s="",l="",i,c,f=tn(t);try{({clone:r,classCSS:a,styleCache:o}=yield Qe(t,e))}finally{f()}yield new Promise(b=>{xt(()=>$(null,null,function*(){yield Ze(r,e),b()}),{fast:n})}),yield new Promise(b=>{xt(()=>$(null,null,function*(){yield ae(t,r,o,e),b()}),{fast:n})}),e.embedFonts&&(yield new Promise(b=>{xt(()=>$(null,null,function*(){let u=ee(t),h=ne(t);if(tt()){let S=new Set(Array.from(u).map(M=>String(M).split("__")[0]).filter(Boolean));yield re(S,2)}s=yield te({required:u,usedCodepoints:h,preCached:!1,exclude:e.excludeFonts,useProxy:e.useProxy}),b()}),{fast:n})}));let d=ge(r).sort(),m=d.join(",");y.baseStyle.has(m)?l=y.baseStyle.get(m):yield new Promise(b=>{xt(()=>{l=ye(d),y.baseStyle.set(m,l),b()},{fast:n})}),yield new Promise(b=>{xt(()=>{let u=getComputedStyle(t);function h(z){var Ct;let D=`${z.filter||""} ${z.webkitFilter||""}`.trim();if(!D||D==="none")return{bleed:{top:0,right:0,bottom:0,left:0},has:!1};let j=D.match(/drop-shadow\((?:[^()]|\([^()]*\))*\)/gi)||[],st=0,it=0,dt=0,rt=0,Ft=!1;for(let Pt of j){Ft=!0;let vt=((Ct=Pt.match(/-?\d+(?:\.\d+)?px/gi))==null?void 0:Ct.map(Mt=>parseFloat(Mt)))||[],[ct=0,kt=0,ht=0]=vt,pt=Math.abs(ct)+ht,gt=Math.abs(kt)+ht;it=Math.max(it,pt+Math.max(ct,0)),rt=Math.max(rt,pt+Math.max(-ct,0)),dt=Math.max(dt,gt+Math.max(kt,0)),st=Math.max(st,gt+Math.max(-kt,0))}return{bleed:{top:Math.ceil(st),right:Math.ceil(it),bottom:Math.ceil(dt),left:Math.ceil(rt)},has:Ft}}function S(z){var Ft;let D=z.boxShadow||"";if(!D||D==="none")return{top:0,right:0,bottom:0,left:0};let j=D.split(/\),(?=(?:[^()]*\([^()]*\))*[^()]*$)/).map(Ct=>Ct.trim()),st=0,it=0,dt=0,rt=0;for(let Ct of j){let Pt=((Ft=Ct.match(/-?\d+(\.\d+)?px/g))==null?void 0:Ft.map(Mt=>parseFloat(Mt)))||[];if(Pt.length<2)continue;let[vt,ct,kt=0,ht=0]=Pt,pt=Math.abs(vt)+kt+ht,gt=Math.abs(ct)+kt+ht;it=Math.max(it,pt+Math.max(vt,0)),rt=Math.max(rt,pt+Math.max(-vt,0)),dt=Math.max(dt,gt+Math.max(ct,0)),st=Math.max(st,gt+Math.max(-ct,0))}return{top:Math.ceil(st),right:Math.ceil(it),bottom:Math.ceil(dt),left:Math.ceil(rt)}}function M(z){let D=(z.filter||"").match(/blur\(\s*([0-9.]+)px\s*\)/),j=D?Math.ceil(parseFloat(D[1])||0):0;return{top:j,right:j,bottom:j,left:j}}function I(z){if((z.outlineStyle||"none")==="none")return{top:0,right:0,bottom:0,left:0};let D=Math.ceil(parseFloat(z.outlineWidth||"0")||0);return{top:D,right:D,bottom:D,left:D}}function E(z,D,j,st,it){let dt=j.a,rt=j.b,Ft=j.c,Ct=j.d,Pt=j.e||0,vt=j.f||0;function ct(Ut,Bt){let Le=Ut-st,Ne=Bt-it,Re=dt*Le+Ft*Ne,Ie=rt*Le+Ct*Ne;return Re+=st+Pt,Ie+=it+vt,[Re,Ie]}let kt=[ct(0,0),ct(z,0),ct(0,D),ct(z,D)],ht=1/0,pt=1/0,gt=-1/0,Mt=-1/0;for(let[Ut,Bt]of kt)Ut<ht&&(ht=Ut),Bt<pt&&(pt=Bt),Ut>gt&&(gt=Ut),Bt>Mt&&(Mt=Bt);return{minX:ht,minY:pt,maxX:gt,maxY:Mt,width:gt-ht,height:Mt-pt}}function F(z){return yr(z)}let k=t.getBoundingClientRect(),W=Math.max(1,Math.ceil(t.offsetWidth||parseFloat(u.width)||k.width||1)),N=Math.max(1,Math.ceil(t.offsetHeight||parseFloat(u.height)||k.height||1)),P=(z,D=NaN)=>{let j=typeof z=="string"?parseFloat(z):z;return Number.isFinite(j)?j:D},V=P(e.width),ot=P(e.height),et=W,at=N,lt=Number.isFinite(V),ft=Number.isFinite(ot),_t=N>0?W/N:1;lt&&ft?(et=Math.max(1,Math.ceil(V)),at=Math.max(1,Math.ceil(ot))):lt?(et=Math.max(1,Math.ceil(V)),at=Math.max(1,Math.ceil(et/(_t||1)))):ft?(at=Math.max(1,Math.ceil(ot)),et=Math.max(1,Math.ceil(at*(_t||1)))):(et=W,at=N);let Y=0,yt=0,St=W,Et=N;if(F(t)){let z=u.transform&&u.transform!=="none"?u.transform:"",D=gr(t),j=xr({baseTransform:z,rotate:D.rotate||"0deg",scale:D.scale,translate:D.translate}),{ox:st,oy:it}=wr(u,W,N),dt=j.is2D?j:new DOMMatrix(j.toString()),rt=E(W,N,dt,st,it);Y=rt.minX,yt=rt.minY,St=rt.maxX,Et=rt.maxY}let wt=S(u),B=M(u),q=I(u),K=h(u),G={top:wt.top+B.top+q.top+K.bleed.top,right:wt.right+B.right+q.right+K.bleed.right,bottom:wt.bottom+B.bottom+q.bottom+K.bleed.bottom,left:wt.left+B.left+q.left+K.bleed.left};Y-=G.left,yt-=G.top,St+=G.right,Et+=G.bottom;let p=Math.max(1,Math.ceil(St-Y)),w=Math.max(1,Math.ceil(Et-yt)),C=Math.max(1,Math.round(p*(lt||ft?et/W:1))),v=Math.max(1,Math.round(w*(ft||lt?at/N:1))),x="http://www.w3.org/2000/svg",A=tt()?1:0,L=document.createElementNS(x,"foreignObject"),_=Math.floor(Y),R=Math.floor(yt);L.setAttribute("x",String(-(_-A))),L.setAttribute("y",String(-(R-A))),L.setAttribute("width",String(Math.ceil(W+A*2))),L.setAttribute("height",String(Math.ceil(N+A*2))),L.style.overflow="visible";let U=document.createElement("style");U.textContent=l+s+"svg{overflow:visible;} foreignObject{overflow:visible;}"+a,L.appendChild(U);let T=document.createElement("div");T.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),T.style.width=`${W}px`,T.style.height=`${N}px`,T.style.overflow="visible",r.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),T.appendChild(r),L.appendChild(T);let H=new XMLSerializer().serializeToString(L),nt=p+A*2,ut=w+A*2,bt=lt||ft;e.meta={w0:W,h0:N,vbW:nt,vbH:ut,targetW:et,targetH:at};let ce=tt()&&bt?nt:C+A*2,le=tt()&&bt?ut:v+A*2;c=`<svg xmlns="${x}" width="${ce}" height="${le}" viewBox="0 0 ${nt} ${ut}">`+H+"</svg>",i=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(c)}`,b()},{fast:n})});let g=document.getElementById("snapdom-sandbox");return g&&g.style.position==="absolute"&&g.remove(),i})}function pr(t){let e=getComputedStyle(t).transform;if(!e||e==="none")return new DOMMatrix;try{return new DOMMatrix(e)}catch(n){return new WebKitCSSMatrix(e)}}function gr(t){var a,o,s,l,i,c,f,d;let e={rotate:"0deg",scale:null,translate:null},n=typeof t.computedStyleMap=="function"?t.computedStyleMap():null;if(n){let m=h=>{try{return typeof n.has=="function"&&!n.has(h)||typeof n.get!="function"?null:n.get(h)}catch(S){return null}},g=m("rotate");if(g)if(g.angle){let h=g.angle;e.rotate=h.unit==="rad"?h.value*180/Math.PI+"deg":h.value+h.unit}else g.unit?e.rotate=g.unit==="rad"?g.value*180/Math.PI+"deg":g.value+g.unit:e.rotate=String(g);else{let h=getComputedStyle(t);e.rotate=h.rotate&&h.rotate!=="none"?h.rotate:"0deg"}let b=m("scale");if(b){let h="x"in b&&((a=b.x)==null?void 0:a.value)!=null?b.x.value:Array.isArray(b)?(o=b[0])==null?void 0:o.value:Number(b)||1,S="y"in b&&((s=b.y)==null?void 0:s.value)!=null?b.y.value:Array.isArray(b)?(l=b[1])==null?void 0:l.value:h;e.scale=`${h} ${S}`}else{let h=getComputedStyle(t);e.scale=h.scale&&h.scale!=="none"?h.scale:null}let u=m("translate");if(u){let h="x"in u&&"value"in u.x?u.x.value:Array.isArray(u)?(i=u[0])==null?void 0:i.value:0,S="y"in u&&"value"in u.y?u.y.value:Array.isArray(u)?(c=u[1])==null?void 0:c.value:0,M="x"in u&&((f=u.x)!=null&&f.unit)?u.x.unit:"px",I="y"in u&&((d=u.y)!=null&&d.unit)?u.y.unit:"px";e.translate=`${h}${M} ${S}${I}`}else{let h=getComputedStyle(t);e.translate=h.translate&&h.translate!=="none"?h.translate:null}return e}let r=getComputedStyle(t);return e.rotate=r.rotate&&r.rotate!=="none"?r.rotate:"0deg",e.scale=r.scale&&r.scale!=="none"?r.scale:null,e.translate=r.translate&&r.translate!=="none"?r.translate:null,e}function yr(t){let e=getComputedStyle(t),n=e.transform||"none";if(n!=="none"&&!/^matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*,\s*0\s*,\s*0\s*\)$/i.test(n))return!0;let a=e.rotate&&e.rotate!=="none"&&e.rotate!=="0deg",o=e.scale&&e.scale!=="none"&&e.scale!=="1",s=e.translate&&e.translate!=="none"&&e.translate!=="0px 0px";return!!(a||o||s)}function wr(t,e,n){let r=(t.transformOrigin||"0 0").trim().split(/\s+/),[a,o]=[r[0]||"0",r[1]||"0"],s=(l,i)=>{let c=l.toLowerCase();return c==="left"||c==="top"?0:c==="center"?i/2:c==="right"||c==="bottom"?i:c.endsWith("px")?parseFloat(c)||0:c.endsWith("%")?(parseFloat(c)||0)*i/100:/^-?\d+(\.\d+)?$/.test(c)&&parseFloat(c)||0};return{ox:s(a,e),oy:s(o,n)}}var Ee=null;function br(){if(Ee)return Ee;let t=document.createElement("div");return t.id="snapdom-measure-slot",t.setAttribute("aria-hidden","true"),Object.assign(t.style,{position:"absolute",left:"-99999px",top:"0px",width:"0px",height:"0px",overflow:"hidden",opacity:"0",pointerEvents:"none",contain:"size layout style"}),document.documentElement.appendChild(t),Ee=t,t}function xr(t){let e=br(),n=document.createElement("div");n.style.transformOrigin="0 0",t.baseTransform&&(n.style.transform=t.baseTransform),t.rotate&&(n.style.rotate=t.rotate),t.scale&&(n.style.scale=t.scale),t.translate&&(n.style.translate=t.translate),e.appendChild(n);let r=pr(n);return e.removeChild(n),r}function Sr(t){if(typeof t=="string"){let e=t.toLowerCase().trim();if(e==="disabled"||e==="full"||e==="auto"||e==="soft")return e}return"soft"}function en(t={}){var r,a,o,s,l,i,c,f,d,m,g,b,u,h,S,M,I,E;let e=(r=t.format)!=null?r:"png",n=Sr(t.cache);return{debug:(a=t.debug)!=null?a:!1,fast:(o=t.fast)!=null?o:!0,scale:(s=t.scale)!=null?s:1,exclude:(l=t.exclude)!=null?l:[],excludeMode:(i=t.excludeMode)!=null?i:"hide",filter:(c=t.filter)!=null?c:null,filterMode:(f=t.filterMode)!=null?f:"hide",placeholders:t.placeholders!==!1,embedFonts:(d=t.embedFonts)!=null?d:!1,iconFonts:Array.isArray(t.iconFonts)?t.iconFonts:t.iconFonts?[t.iconFonts]:[],localFonts:Array.isArray(t.localFonts)?t.localFonts:[],excludeFonts:(m=t.excludeFonts)!=null?m:void 0,fallbackURL:(g=t.fallbackURL)!=null?g:void 0,cache:n,useProxy:typeof t.useProxy=="string"?t.useProxy:"",width:(b=t.width)!=null?b:null,height:(u=t.height)!=null?u:null,format:e,type:(h=t.type)!=null?h:"svg",quality:(S=t.quality)!=null?S:.92,dpr:(M=t.dpr)!=null?M:window.devicePixelRatio||1,backgroundColor:(I=t.backgroundColor)!=null?I:["jpg","jpeg","webp"].includes(e)?"#ffffff":null,filename:(E=t.filename)!=null?E:"snapDOM"}}function Cr(t){return typeof t=="string"&&/^data:image\/svg\+xml/i.test(t)}function kr(t){let e=t.indexOf(",");return e>=0?decodeURIComponent(t.slice(e+1)):""}function Mr(t){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`}function Ar(t){let e=[],n="",r=0;for(let a=0;a<t.length;a++){let o=t[a];o==="("&&r++,o===")"&&(r=Math.max(0,r-1)),o===";"&&r===0?(e.push(n),n=""):n+=o}return n.trim()&&e.push(n),e.map(a=>a.trim()).filter(Boolean)}function $r(t){let e=[],n="",r=0;for(let o=0;o<t.length;o++){let s=t[o];s==="("&&r++,s===")"&&(r=Math.max(0,r-1)),s===","&&r===0?(e.push(n.trim()),n=""):n+=s}n.trim()&&e.push(n.trim());let a=[];for(let o of e){if(/\binset\b/i.test(o))continue;let s=o.match(/-?\d+(?:\.\d+)?px/gi)||[],[l="0px",i="0px",c="0px"]=s,f=o.replace(/-?\d+(?:\.\d+)?px/gi,"").replace(/\binset\b/ig,"").trim().replace(/\s{2,}/g," "),d=!!f&&f!==",";a.push(`drop-shadow(${l} ${i} ${c}${d?` ${f}`:""})`)}return a.join(" ")}function nn(t){let e=Ar(t),n=null,r=null,a=null,o=[];for(let l of e){let i=l.indexOf(":");if(i<0)continue;let c=l.slice(0,i).trim().toLowerCase(),f=l.slice(i+1).trim();c==="box-shadow"?a=f:c==="filter"?n=f:c==="-webkit-filter"?r=f:o.push([c,f])}if(a){let l=$r(a);l&&(n=n?`${n} ${l}`:l,r=r?`${r} ${l}`:l)}let s=[...o];return n&&s.push(["filter",n]),r&&s.push(["-webkit-filter",r]),s.map(([l,i])=>`${l}:${i}`).join(";")}function Er(t){return t.replace(/([^{}]+)\{([^}]*)\}/g,(e,n,r)=>`${n}{${nn(r)}}`)}function Fr(t){return t=t.replace(/<style[^>]*>([\s\S]*?)<\/style>/gi,(e,n)=>e.replace(n,Er(n))),t=t.replace(/style=(['"])([\s\S]*?)\1/gi,(e,n,r)=>`style=${n}${nn(r)}${n}`),t}function vr(t){if(!tt()||!Cr(t))return t;try{let e=kr(t),n=Fr(e);return Mr(n)}catch(e){return t}}function $t(t,e){return $(this,null,function*(){let{width:n,height:r,scale:a=1,dpr:o=1,meta:s={}}=e;t=vr(t);let l=new Image;l.loading="eager",l.decoding="sync",l.crossOrigin="anonymous",l.src=t,yield l.decode();let i=l.naturalWidth,c=l.naturalHeight,f=Number.isFinite(s.w0)?s.w0:i,d=Number.isFinite(s.h0)?s.h0:c,m,g,b=Number.isFinite(n),u=Number.isFinite(r);if(b&&u)m=Math.max(1,n),g=Math.max(1,r);else if(b){let M=n/Math.max(1,f);m=n,g=Math.round(d*M)}else if(u){let M=r/Math.max(1,d);g=r,m=Math.round(f*M)}else m=i,g=c;m=Math.round(m*a),g=Math.round(g*a);let h=document.createElement("canvas");h.width=Math.ceil(m*o),h.height=Math.ceil(g*o),h.style.width=`${m}px`,h.style.height=`${g}px`;let S=h.getContext("2d");return o!==1&&S.scale(o,o),S.drawImage(l,0,0,m,g),h})}function se(t,e){return $(this,null,function*(){let n=yield $t(t,e),r=e.backgroundColor?Nt(n,e.backgroundColor):n,a=new Image;return a.src=r.toDataURL(`image/${e.format}`,e.quality),yield a.decode(),a.style.width=`${r.width/e.dpr}px`,a.style.height=`${r.height/e.dpr}px`,a})}function rn(t,e){return $(this,null,function*(){let{scale:n=1,width:r,height:a,meta:o={}}=e,s=Number.isFinite(r),l=Number.isFinite(a),i=Number.isFinite(n)&&n!==1||s||l;if(tt()&&i)return yield se(t,Q(J({},e),{format:"png",quality:1,meta:o}));let c=new Image;if(c.decoding="sync",c.loading="eager",c.src=t,yield c.decode(),s&&l)c.style.width=`${r}px`,c.style.height=`${a}px`;else if(s){let f=Number.isFinite(o.w0)?o.w0:c.naturalWidth,d=Number.isFinite(o.h0)?o.h0:c.naturalHeight,m=r/Math.max(1,f);c.style.width=`${r}px`,c.style.height=`${Math.round(d*m)}px`}else if(l){let f=Number.isFinite(o.w0)?o.w0:c.naturalWidth,d=Number.isFinite(o.h0)?o.h0:c.naturalHeight,m=a/Math.max(1,d);c.style.height=`${a}px`,c.style.width=`${Math.round(f*m)}px`}else n!==1&&(c.style.width=`${Math.round(c.naturalWidth*n)}px`,c.style.height=`${Math.round(c.naturalHeight*n)}px`);return c})}function ie(t,e){return $(this,null,function*(){let n=e.type;if(n==="svg"){let o=decodeURIComponent(t.split(",")[1]);return new Blob([o],{type:"image/svg+xml"})}let r=yield $t(t,e),a=e.backgroundColor?Nt(r,e.backgroundColor):r;return new Promise(o=>a.toBlob(s=>o(s),`image/${n}`,e.quality))})}function on(t,e){return $(this,null,function*(){if(e.dpr=1,e.format==="svg"){let o=yield ie(t,Q(J({},e),{type:"svg"})),s=URL.createObjectURL(o),l=document.createElement("a");l.href=s,l.download=e.filename,l.click(),URL.revokeObjectURL(s);return}let n=yield $t(t,e),r=e.backgroundColor?Nt(n,e.backgroundColor):n,a=document.createElement("a");a.href=r.toDataURL(`image/${e.format}`,e.quality),a.download=e.filename,a.click()})}var an=Symbol("snapdom.internal"),ve=!1;function X(t,e){return $(this,null,function*(){if(!t)throw new Error("Element cannot be null or undefined");let n=en(e);if(tt()&&(n.embedFonts===!0||Nr(t)))for(let r=0;r<3;r++)try{yield Lr(t,e),console.log("Iteraci\xF3n n\xFAmero:",r),ve=!1}catch(a){}return n.iconFonts&&n.iconFonts.length>0&&He(n.iconFonts),n.snap||(n.snap={toPng:(r,a)=>X.toPng(r,a),toImg:(r,a)=>X.toImg(r,a)}),X.capture(t,n,an)})}X.capture=(t,e,n)=>$(null,null,function*(){if(n!==an)throw new Error("[snapdom.capture] is internal. Use snapdom(...) instead.");let r=yield Fe(t,e),a=s=>J(J({},e),s||{}),o=s=>l=>{let i=a(Q(J({},l||{}),{format:s})),c=s==="jpeg"||s==="jpg",f=i.backgroundColor==null||i.backgroundColor==="transparent";return c&&f&&(i.backgroundColor="#ffffff"),se(r,i)};return{url:r,toRaw:()=>r,toImg:s=>rn(r,a(s)),toCanvas:s=>$t(r,a(s)),toBlob:s=>ie(r,a(s)),toPng:o("png"),toJpg:o("jpeg"),toWebp:o("webp"),download:s=>on(r,a(s))}});X.toRaw=(t,e)=>X(t,e).then(n=>n.toRaw());X.toImg=(t,e)=>X(t,e).then(n=>n.toImg());X.toCanvas=(t,e)=>X(t,e).then(n=>n.toCanvas());X.toBlob=(t,e)=>X(t,e).then(n=>n.toBlob());X.toPng=(t,e)=>X(t,Q(J({},e),{format:"png"})).then(n=>n.toPng());X.toJpg=(t,e)=>X(t,Q(J({},e),{format:"jpeg"})).then(n=>n.toJpg());X.toWebp=(t,e)=>X(t,Q(J({},e),{format:"webp"})).then(n=>n.toWebp());X.download=(t,e)=>X(t,e).then(n=>n.download());function Lr(t,e){return $(this,null,function*(){if(ve)return;let n=Q(J({},e),{fast:!0,embedFonts:!0,scale:.2}),r;try{r=yield Fe(t,n)}catch(a){return}yield new Promise(a=>{let o=new Image;o.decoding="sync",o.loading="eager",o.style.position="fixed",o.style.left=0,o.style.top=0,o.style.width="10px",o.style.height="10px",o.style.opacity="0.01",o.style.transform="translateZ(10px)",o.style.willChange="transform,opacity;",o.src=r;let s=()=>$(null,null,function*(){yield new Promise(l=>setTimeout(l,100)),o&&o.parentNode&&o.parentNode.removeChild(o),ve=!0,a()});document.body.appendChild(o),s()})})}function Nr(t){let e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);for(;e.nextNode();){let n=e.currentNode,r=getComputedStyle(n),a=r.backgroundImage&&r.backgroundImage!=="none",o=r.maskImage&&r.maskImage!=="none"||r.webkitMaskImage&&r.webkitMaskImage!=="none";if(a||o)return!0}return!1}function sn(){return $(this,arguments,function*(t=document,e={}){var i,c,f,d;let{embedFonts:n=!0,useProxy:r=""}=e,a=(c=(i=e.cache)!=null?i:e.cacheOpt)!=null?c:"full";Yt(a);try{yield(f=document.fonts)==null?void 0:f.ready}catch(m){}try{he()}catch(m){}y.session=y.session||{},y.session.styleCache||(y.session.styleCache=new WeakMap),y.image=y.image||new Map;try{yield ae(t,void 0,y.session.styleCache,{useProxy:r})}catch(m){}let o=[],s=[];try{t!=null&&t.querySelectorAll&&(o=Array.from(t.querySelectorAll("img[src]")),s=Array.from(t.querySelectorAll("*")))}catch(m){}let l=[];for(let m of o){let g=(m==null?void 0:m.currentSrc)||(m==null?void 0:m.src);if(g&&!y.image.has(g)){let b=Promise.resolve().then(()=>$(null,null,function*(){let u=yield Z(g,{as:"dataURL",useProxy:r});u!=null&&u.ok&&typeof u.data=="string"&&y.image.set(g,u.data)})).catch(()=>{});l.push(b)}}for(let m of s){let g="";try{g=It(m).backgroundImage}catch(b){}if(g&&g!=="none"){let b=Tt(g);for(let u of b)if(u.startsWith("url(")){let h=Promise.resolve().then(()=>Rt(u,Q(J({},e),{useProxy:r}))).catch(()=>{});l.push(h)}}}if(n)try{let m=ee(t),g=ne(t);if(typeof tt=="function"?tt():!!tt){let u=new Set(Array.from(m).map(h=>String(h).split("__")[0]).filter(Boolean));yield re(u,2)}yield te({required:m,usedCodepoints:g,exclude:e.excludeFonts,localFonts:e.localFonts,useProxy:(d=e.useProxy)!=null?d:r})}catch(m){}yield Promise.allSettled(l)})}typeof window!="undefined"&&(window.snapdom=X,window.preCache=sn);})();
